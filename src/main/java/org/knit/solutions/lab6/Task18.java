package org.knit.solutions.lab6;

import org.knit.TaskDescription;
import org.knit.solutions.Solution;

/**
 * Условие задачи:
 * Дан массив целых чисел arr фиксированной длины. Необходимо продублировать каждое вхождение нуля, сдвигая остальные элементы вправо.
 * <p>
 * Примечание:
 * - Элементы, выходящие за пределы исходного массива, не записываются.
 * - Изменения нужно выполнить на месте (in-place), не возвращая новый массив.
 * <p>
 * Пример 1:
 * Вход: arr = [1,0,2,3,0,4,5,0]
 * Выход: [1,0,0,2,3,0,0,4]
 * Объяснение:
 * - Ноль после 1 дублируется → [1,0,0,2,3,0,4,5]
 * - Ноль после 3 дублируется → [1,0,0,2,3,0,0,4] (последний 0 выходит за границы и отбрасывается)
 * <p>
 * Пример 2:
 * Вход: arr = [1,2,3]
 * Выход: [1,2,3]
 * Объяснение: В массиве нет нулей, поэтому он остаётся без изменений.
 * <p>
 * Ограничения:
 * - 1 <= arr.length <= 10^4
 * - 0 <= arr[i] <= 9
 * <p>
 * Напишите решение, а затем Напишите JUnit тесты для проверки решения
 * Тесты должны покрывать
 * -Обычные случаи (с нулями и без).
 * -Краевые случаи (пустые массивы, все нули, нули на границах).
 * -Производительность (большие массивы) . // просто зафиксировать время выполнения по производительности эмпирическим путем
 */
@TaskDescription(taskNumber = 18, taskDescription = "duplicateZeros")
public class Task18 implements Solution {
    /**
     * Дублирует каждый ноль в массиве, сдвигая элементы вправо.
     * Элементы, выходящие за границы массива, отбрасываются.
     *
     * @param arr Входной массив (изменяется на месте)
     */
    public static void duplicateZeros(int[] arr) {
        for (int i = 0; i < arr.length - 1; i++) {
            if (arr[i] == 0) {
                for (int j = arr.length - 1; j >= i + 2; j--) {
                    arr[j] = arr[j - 1];
                }
                arr[i + 1] = 0;
                i++;
            }
        }
    }

    public void execute() {
        int[] arr1 = {1, 0, 2, 3, 0, 4, 5, 0};
        duplicateZeros(arr1);
        for (int x : arr1) {
            System.out.print(x + ", ");
        }
        System.out.println();

        int[] arr2 = {1, 2, 3};
        duplicateZeros(arr2);
        for (int x : arr2) {
            System.out.print(x + ", ");
        }
        System.out.println();

        int[] arr3 = {1, 0, 2, 3, 0, 4, 5, 0, 6, 7, 0, 0, 2, 5, 0, 2, 0, 4, 5, 1, 1};
        duplicateZeros(arr3);
        for (int x : arr3) {
            System.out.print(x + ", ");
        }
    }
}
